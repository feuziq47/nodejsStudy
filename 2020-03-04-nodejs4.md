---
title : 자바스크립드에서의 객체
tag : Object
categories : Object
---

## Object in javascript

- 객체내에서 멤버들을 정의하고, 그 멤버를 사용하는 함수들을 정의하여 바로 사용할 수 있다.
  
```javascript
    var v1 = 'v1';

    v1 = 'sun';
    var v2 = 'v2';

    var q = {
        v1: 'v1',
        v2: 'v2',
        f1: function (){
            console.log(this.v1);
        },
        f2: function(){
            console.log(this.v2);
        }
    }

    q.f1();
    q.f2();
```

---

## 객체를 이용한 기존의 템플릿 정리

- Before
  
```javascript
function templateHTML(title, list, body, control){
  return `
  <!doctype html>
  <html>
  <head>
    <title>WEB1 - ${title}</title>
    <meta charset="utf-8">
  </head>
  <body>
      <h1><a href="/">WEB</a></h1>
      ${list}
      ${control}
      ${body}
  </body>
  </html>
  `;
}

function templateList(filelist){
  var list = '<ul>';
  var i =0;
  while(i < filelist.length){
    list = list + `<li><a href="/?id=${filelist[i]}">${filelist[i]}</a></li>`;
    i=i+1;
  }
  list = list+'</ul>';
  return list;
}
```

- After

```javascript
var template ={
  HTML : function (title, list, body, control){
    return `
    <!doctype html>
    <html>
    <head>
      <title>WEB1 - ${title}</title>
      <meta charset="utf-8">
    </head>
    <body>
        <h1><a href="/">WEB</a></h1>
        ${list}
        ${control}
        ${body}
    </body>
    </html>
    `;
  },
  
  list : function (filelist){
    var list = '<ul>';
    var i =0;
    while(i < filelist.length){
      list = list + `<li><a href="/?id=${filelist[i]}">${filelist[i]}</a></li>`;
      i=i+1;
    }
    list = list+'</ul>';
    return list;
  }
}
```

---

## Module

```javascript
>> in export code
module.exports = variable_to_export;

>> in import code
var variable = require(_path);
```

## 입력 정보에 대한 보안

- querystring을 조작하여 password 파일에 접근할 수 있다. (그 이상의 상위폴더에도 접근 가능)
- path parse를 이용해서 base만 접근할 수 있게 설계
  
  ex. path.parse('../password .js').base ==> password.js 만 parsing

## 출력 정보에 대한 보안

- submit form에 스크립트 코드를 심어 놓을 수 있다.
- sanitize-html library를 이용하여 내용 사이에 섞인 html 코드를 분리할 수 있다.
  (npm으로 쉽게 import 가능)
- 